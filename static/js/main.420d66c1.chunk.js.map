{"version":3,"sources":["images/logo-white.svg","components/Header/Header.js","contexts/CurrentUserContext.js","components/Card/Card.js","components/Main/Main.js","components/Footer/Footer.js","components/PopupWithForm/PopupWithForm.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/ImagePopup/ImagePopup.js","components/AddPlacePopup/AddPlacePopup.js","utils/api.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","target","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onClick","onCardClick","type","aria-label","onCardDelete","onCardLike","length","Main","avatar","onEditAvatar","about","onEditProfile","onAddPlace","cards","map","Footer","PopupWithForm","useEffect","isOpen","handleEscapeClose","event","key","onClose","document","addEventListener","removeEventListener","method","onSubmit","noValidate","title","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","evt","preventDefault","onUpdateUser","id","value","onChange","minLength","maxLength","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","placeholder","ImagePopup","AddPlacePopup","nameRef","linkRef","api","baseURL","token","this","_baseURL","_token","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_checkResponse","data","body","JSON","stringify","App","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","closeAllPopups","getUserInfo","userInfo","catch","err","console","log","getInitialCards","cardsData","Provider","deleteLike","putLike","newCard","newCards","c","deleteCard","filter","editProfile","newUser","editAvatar","newLink","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.420d66c1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-white.ff5e7d02.svg\";","import headerLogo from '../../images/logo-white.svg';\n\nfunction Header() {\n    return (\n        <header className=\"header\">\n            <a href=\"/#\" target=\"_self\">\n                <img className=\"header__logo\" src={headerLogo} alt=\"Место-логотип\" />\n            </a>\n        </header>\n    )\n}\n\nexport default Header;","import React from 'react';\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext.js';\n\n\nfunction Card(props) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const isOwn = props.card.owner._id === currentUser._id;\n    const cardDeleteButtonClassName = (`${isOwn ? 'element__delete' : 'element__delete_hidden'}`); \n\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n    const cardLikeButtonClassName = (`${isLiked ? 'element__like_active' : 'element__like'}`);\n\n    function handleCardClick() {\n        props.onCardClick({\n            name: props.card.name,\n            link: props.card.link,\n        })\n    }\n\n    function handleLikeClick() {\n        props.onCardLike(props.card)\n    }\n\n    function handleDeleteClick() {\n        props.onCardDelete(props.card)\n    } \n\n    return (\n        <article className=\"element\">\n            <img className=\"element__photo\" \n            src={props.card.link} \n            alt={props.card.name} \n            onClick={handleCardClick} />\n            <button className={cardDeleteButtonClassName}\n                type=\"button\"\n                aria-label=\"удалить\"\n                onClick={handleDeleteClick}>\n            </button>\n            <div className=\"element__container\">\n                <h2 className=\"element__place-name\">{props.card.name}</h2>\n                <div className=\"element__like-container\">\n                    <button className={cardLikeButtonClassName}\n                        type=\"button\"\n                        aria-label=\"лайк\"\n                        onClick={handleLikeClick}>\n                    </button>\n                    <p className=\"element__like-counter\">{props.card.likes.length}</p>\n                </div>\n            </div>\n        </article>\n    )\n}\n\nexport default Card;","import React from \"react\";\nimport Card from \"../Card/Card.js\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext.js\";\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <div className=\"page\">\n      <main>\n        <section className=\"profile\">\n          <div className=\"profile__container\">\n            <div className=\"profile__avatar-container\">\n              <img\n                className=\"profile__avatar\"\n                src={currentUser.avatar}\n                alt=\"аватар\"\n              />\n              <button\n                className=\"profile__edit-button profile__edit-avatar-button\"\n                type=\"button\"\n                aria-label=\"редактировать-аватар\"\n                onClick={props.onEditAvatar}\n              />\n            </div>\n            <div className=\"profile__info\">\n              <div className=\"profile__description\">\n                <h1 className=\"profile__name\">{currentUser.name}</h1>\n                <p className=\"profile__profession\">{currentUser.about}</p>\n              </div>\n              <button\n                className=\"profile__edit-button profile__edit-description-button\"\n                type=\"button\"\n                aria-label=\"редактировать-профиль\"\n                onClick={props.onEditProfile}\n              />\n            </div>\n          </div>\n          <button\n            className=\"profile__add-button\"\n            type=\"button\"\n            aria-label=\"добавить-фото\"\n            onClick={props.onAddPlace}\n          />\n        </section>\n\n        <section className=\"elements\" aria-label=\"Фотографии\">\n          {props.cards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          ))}\n        </section>\n      </main>\n    </div>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\"> &copy; 2021 Mesto Russia</p>\n        </footer>\n    )\n}\n\nexport default Footer;","import React from \"react\";\nfunction PopupWithForm(props) {\n  React.useEffect(() => {\n    if (!props.isOpen) return;\n    const handleEscapeClose = (event) => {\n      if (event.key === \"Escape\") {\n        props.onClose();\n      }\n    };\n    document.addEventListener(\"keydown\", handleEscapeClose);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscapeClose);\n    };\n  });\n\n  return (\n    <div\n      className={`popup ${props.isOpen ? \"popup_opened\" : \"\"} popup_type-${props.name}`}\n    >\n      <form\n        className=\"popup__container popup__container_edit-form\"\n        name={`${props.name}`}\n        method=\"POST\"\n        onSubmit={props.onSubmit}\n        noValidate\n      >\n        <h3 className=\"popup__edit-profile\">{`${props.title}`}</h3>\n        {props.children}\n        <button \n        className=\"popup__button-save\" \n        type=\"submit\">\n          {`${props.buttonText}`}\n        </button>\n        <button\n          className=\"popup__button-close\"\n          type=\"button\"\n          onClick={props.onClose}\n        ></button>\n      </form>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext.js\";\n\nfunction EditProfilePopup(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDesriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"edit\"\n      isOpen={props.isOpen}\n      onSubmit={handleSubmit}\n      onClose={props.onClose}\n      buttonText=\"Сохранить\"\n    >\n      <input\n        className=\"popup__input popup__input_edit_name\"\n        id=\"name-input\"\n        name=\"name\"\n        type=\"text\"\n        value={name || \"\"}\n        onChange={handleNameChange}\n        minLength=\"2\"\n        maxLength=\"40\"\n        required\n      />\n      <span \n      className=\"popup__input-error\" \n      id=\"name-input-error\">\n      </span>\n      <input\n        className=\"popup__input popup__input_edit_description\"\n        id=\"description-input\"\n        name=\"about\"\n        type=\"text\"\n        value={description || \"\"}\n        onChange={handleDesriptionChange}\n        minLength=\"2\"\n        maxLength=\"200\"\n        required\n      />\n      <span \n      className=\"popup__input-error\" \n      id=\"description-input-error\">\n      </span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n\n    const avatarRef = React.useRef();\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n        props.onUpdateAvatar({\n          avatar: avatarRef.current.value\n        });\n        avatarRef.current.value = ''\n      }\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"edit-avatar\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      buttonText=\"Сохранить\"\n    >\n      <input\n        className=\"popup__input popup__input_edit_name\"\n        id=\"avatar-link-input\"\n        name=\"avatar\"\n        type=\"url\"\n        ref={avatarRef}\n        placeholder=\"Ссылка на картинку\"\n        required\n      />\n      <span className=\"popup__input-error\" id=\"avatar-link-input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","function ImagePopup(props) {\n    return (\n        <div className={`popup popup_type-image-caption ${props.card ? 'popup_opened' : ''}`}>\n            <div className=\"popup__image-container\">\n                <img \n                className=\"popup__caption-image\" \n                src={props.card ? props.card.link : ''} \n                alt={props.card ? props.card.name : ''} />\n                <h2 className=\"popup__caption-image-title\">{props.card ? props.card.name : ''}</h2>\n                <button \n                className=\"popup__button-close\" \n                type=\"button\" \n                onClick={props.onClose}>\n                </button>\n            </div>\n        </div>\n    )\n}\n\nexport default ImagePopup;","import React from \"react\";\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n  const nameRef = React.useRef();\n  const linkRef = React.useRef();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onAddPlace({\n      name: nameRef.current.value,\n      link: linkRef.current.value,\n    });\n    nameRef.current.value = ''\n    linkRef.current.value = ''\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"add-card\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      buttonText=\"Добавить\"\n    >\n      <input\n        className=\"popup__input popup__input_edit_name\"\n        id=\"place-name-input\"\n        name=\"name\"\n        ref={nameRef}\n        type=\"text\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        placeholder=\"Название\"\n        required\n      />\n      <span className=\"popup__input-error\" id=\"place-name-input-error\"></span>\n      <input\n        className=\"popup__input popup__input_edit_description\"\n        id=\"place-link-input\"\n        name=\"link\"\n        ref={linkRef}\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        required\n      />\n      <span className=\"popup__input-error\" id=\"place-link-input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","class API {\n    constructor({ baseURL, token }) {\n        this._baseURL = baseURL;\n        this._token = token;\n    }\n\n    _checkResponse(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка ${res.status}`);\n    }\n\n    getUserInfo() {\n        return fetch(`${this._baseURL}/users/me`, {\n            method: 'GET',\n            headers: {\n                authorization: this._token\n            }\n        })\n            .then(this._checkResponse)\n    }\n\n    getInitialCards() {\n        return fetch(`${this._baseURL}/cards`, {\n            method: 'GET',\n            headers: {\n                authorization: this._token\n            }\n        })\n            .then(this._checkResponse)\n    }\n\n    editProfile(data) {\n        return fetch(`${this._baseURL}/users/me`, {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name: data.name,\n                about: data.about\n            })\n        })\n            .then(this._checkResponse)\n    }\n\n    editAvatar(data) {\n        return fetch(`${this._baseURL}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                avatar: data.avatar,\n            })\n        })\n            .then(this._checkResponse)\n    }\n\n    addCard(data) {\n        return fetch(`${this._baseURL}/cards`, {\n            method: 'POST',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                name: data.name,\n                link: data.link\n            })\n        })\n            .then(this._checkResponse)\n    }\n\n    deleteCard(_id) {\n        return fetch(`${this._baseURL}/cards/${_id}`, {\n            method: 'DELETE',\n            headers: {\n                authorization: this._token,\n            }\n        })\n            .then(this._checkResponse)\n    }\n\n    putLike(_id) {\n        return fetch(`${this._baseURL}/cards/likes/${_id}`, {\n            method: 'PUT',\n            headers: {\n                authorization: this._token,\n            }\n        })\n            .then(this._checkResponse)\n    }\n\n    deleteLike(_id) {\n        return fetch(`${this._baseURL}/cards/likes/${_id}`, {\n            method: 'DELETE',\n            headers: {\n                authorization: this._token,\n            }\n        })\n            .then(this._checkResponse)\n    }\n}\n\nconst api = new API({\n    baseURL: 'https://mesto.nomoreparties.co/v1/cohort-19',\n    token: '368fbfa6-0e9c-41c7-bd15-303b5b8d6ef8',\n});\n\nexport default api;","import React from \"react\";\nimport Header from \"../Header/Header.js\";\nimport Main from \"../Main/Main.js\";\nimport Footer from \"../Footer/Footer.js\";\nimport EditProfilePopup from \"../EditProfilePopup/EditProfilePopup\";\nimport EditAvatarPopup from \"../EditAvatarPopup/EditAvatarPopup\";\nimport ImagePopup from \"../ImagePopup/ImagePopup.js\";\nimport AddPlacePopup from \"../AddPlacePopup/AddPlacePopup\";\nimport api from \"../../utils/api.js\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext.js\";\n\nfunction App() {\n  const [cards, setCards] = React.useState([]);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState(\"\");\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((userInfo) => {\n        setCurrentUser(userInfo);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((cardsData) => {\n        setCards(cardsData);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleUpdateUser(data) {\n    api\n      .editProfile(data)\n      .then((newUser) => {\n        setCurrentUser(newUser);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(link) {\n    api\n      .editAvatar(link)\n      .then((newLink) => {\n        setCurrentUser(newLink);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    const likeRequest = !isLiked\n      ? api\n      .putLike(card._id)\n      : api\n      .deleteLike(card._id);\n    likeRequest.then((newCard) => {\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n      setCards(newCards);\n    });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api\n      .addCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard(false);\n  }\n\n  return (\n    <div className=\"body\">\n      <div className=\"page\">\n        <CurrentUserContext.Provider value={currentUser}>\n          <Header />\n\n          <Main\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            cards={cards}\n          />\n\n          <Footer />\n\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n\n          <ImagePopup \n          card={selectedCard} \n          onClose={closeAllPopups} />\n\n        </CurrentUserContext.Provider>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nreportWebVitals();\n"],"sourceRoot":""}